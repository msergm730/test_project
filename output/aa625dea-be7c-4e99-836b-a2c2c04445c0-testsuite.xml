<?xml version='1.0'?>
<ns2:test-suite xmlns:ns2='urn:model.allure.qatools.yandex.ru' start='1747073784625' stop='1747073871845'>
    <name>Most Read Section:</name>
    <title>Most Read Section:</title>
    <test-cases>
        <test-case start='1747073784626' status='failed' stop='1747073870775'>
            <name>Verify bypass block menu for "Most Read" is working</name>
            <title>Verify bypass block menu for "Most Read" is working</title>
            <labels>
                <label name='language' value='javascript'/>
                <label name='framework' value='codeceptjs'/>
            </labels>
            <parameters/>
            <steps>
                <step start='1747073786876' status='passed' stop='1747073787937'>
                    <name>Given I am on the homepage ""</name>
                    <title>Given I am on the homepage ""</title>
                    <attachments/>
                    <steps>
                        <step start='1747073786876' status='passed' stop='1747073787937'>
                            <name>I am on page "/"</name>
                            <title>I am on page "/"</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
                <step start='1747073787937' status='passed' stop='1747073869442'>
                    <name>When I click the "Bypass Block" menu item for "Most Read" ""</name>
                    <title>When I click the "Bypass Block" menu item for "Most Read" ""</title>
                    <attachments/>
                    <steps>
                        <step start='1747073787938' status='passed' stop='1747073869363'>
                            <name>I click ".header-menu.site-header", ,</name>
                            <title>I click ".header-menu.site-header", ,</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1747073869364' status='passed' stop='1747073869404'>
                            <name>I press key "Tab"</name>
                            <title>I press key "Tab"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1747073869404' status='passed' stop='1747073869429'>
                            <name>I press key "Tab"</name>
                            <title>I press key "Tab"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1747073869429' status='passed' stop='1747073869436'>
                            <name>I press key "Tab"</name>
                            <title>I press key "Tab"</title>
                            <attachments/>
                            <steps/>
                        </step>
                        <step start='1747073869436' status='passed' stop='1747073869442'>
                            <name>I press key "Enter"</name>
                            <title>I press key "Enter"</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
                <step start='1747073869442' status='failed' stop='1747073870775'>
                    <name>Then I should be taken directly to the "Most Read" section ""</name>
                    <title>Then I should be taken directly to the "Most Read" section ""</title>
                    <attachments/>
                    <steps>
                        <step start='1747073869442' status='failed' stop='1747073870775'>
                            <name>I execute script () => {
                                  const targetElement = document.getElementsByClassName("trending-articles"); 
                                  if (!targetElement) {
                                    return { error: 'Element not found!' }; // Gracefully handle missing elements
                                  }
                                  const elementTop = targetElement.getBoundingClientRect().top; // Distance from top of viewport
                                  const pageYOffset = window.pageYOffset; // Current vertical scroll position
                                  return {
                                    elementTop: elementTop + pageYOffset, // Calculate element's absolute position
                                    currentScroll: pageYOffset, // Current scroll position
                                  };
                                }</name>
                            <title>I execute script () => {
                                  const targetElement = document.getElementsByClassName("trending-articles"); 
                                  if (!targetElement) {
                                    return { error: 'Element not found!' }; // Gracefully handle missing elements
                                  }
                                  const elementTop = targetElement.getBoundingClientRect().top; // Distance from top of viewport
                                  const pageYOffset = window.pageYOffset; // Current vertical scroll position
                                  return {
                                    elementTop: elementTop + pageYOffset, // Calculate element's absolute position
                                    currentScroll: pageYOffset, // Current scroll position
                                  };
                                }</title>
                            <attachments/>
                            <steps/>
                        </step>
                    </steps>
                </step>
            </steps>
            <attachments>
                <attachment title='Main session - Last Seen Screenshot' source='84d99699-ce08-48ca-bd2f-564851b61124-attachment.png' type='image/png' size='966556'/>
            </attachments>
            <failure>
                <message>javascript error: targetElement.getBoundingClientRect is not a function
                  (Session info: chrome=136.0.7103.93)</message>
                <stack-trace>javascript error: javascript error: targetElement.getBoundingClientRect is not a function
                  (Session info: chrome=136.0.7103.93)
                    at getErrorFromResponseBody (file:///Users/Sergey_Manukyan/test_project2/node_modules/webdriverio/node_modules/webdriver/build/utils.js:195:12)
                    at NodeJSRequest._request (file:///Users/Sergey_Manukyan/test_project2/node_modules/webdriverio/node_modules/webdriver/build/request/index.js:193:23)
                    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
                    at async Browser.wrapCommandFn (file:///Users/Sergey_Manukyan/test_project2/node_modules/webdriverio/node_modules/@wdio/utils/build/shim.js:90:29)
                    at async Browser.wrapCommandFn (file:///Users/Sergey_Manukyan/test_project2/node_modules/webdriverio/node_modules/@wdio/utils/build/shim.js:90:29)</stack-trace>
            </failure>
        </test-case>
    </test-cases>
</ns2:test-suite>